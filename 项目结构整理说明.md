# ğŸ“ é¡¹ç›®ç»“æ„æ•´ç†è¯´æ˜

## ğŸ“‹ æ•´ç†æ—¶é—´

**æ—¥æœŸï¼š** 2025-10-18  
**ç‰ˆæœ¬ï¼š** v1.0

---

## ğŸ¯ æ•´ç†ç›®æ ‡

å°†é¡¹ç›®æ–‡ä»¶æŒ‰ç…§åŠŸèƒ½å’Œç±»å‹è¿›è¡Œåˆ†ç±»ï¼Œå»ºç«‹æ¸…æ™°çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œä¾¿äºï¼š
- ğŸ” å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶
- ğŸ“š æ–‡æ¡£é›†ä¸­ç®¡ç†
- ğŸ’¾ æ•°æ®ç»Ÿä¸€å­˜å‚¨
- ğŸ”§ é…ç½®æ–‡ä»¶éš”ç¦»
- ğŸ› ï¸ è„šæœ¬ç‹¬ç«‹ç»´æŠ¤

---

## ğŸ“Š æ•´ç†å‰åå¯¹æ¯”

### æ•´ç†å‰ï¼ˆæ‚ä¹±ï¼‰

```
test_agent/
â”œâ”€â”€ app.py
â”œâ”€â”€ start_web.py
â”œâ”€â”€ restart.ps1
â”œâ”€â”€ test_results.json
â”œâ”€â”€ test_results.csv
â”œâ”€â”€ preset_children.json
â”œâ”€â”€ preset_criteria.json
â”œâ”€â”€ AIå„¿ç«¥è‹±è¯­é™ªä¼´äº§å“è¯„æµ‹ä½“ç³».md
â”œâ”€â”€ å†…æµ‹é€šè¿‡æ ‡å‡†_å¿«é€Ÿå‚è€ƒå¡.md
â”œâ”€â”€ å¦‚ä½•æ·»åŠ å†…ç½®è§’è‰².md
â”œâ”€â”€ å¦‚ä½•æ·»åŠ å†…ç½®è¯„åˆ†æ ‡å‡†.md
â”œâ”€â”€ æ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜ä½¿ç”¨è¯´æ˜.md
â”œâ”€â”€ æ•°æ®å­˜å‚¨è¯´æ˜.md
â”œâ”€â”€ CSVæ•°æ®å­—å…¸.md
â”œâ”€â”€ è‡ªåŠ¨æµ‹è¯•ä½¿ç”¨è¯´æ˜.md
â”œâ”€â”€ è§’è‰²æ¨¡æ¿.txt
â””â”€â”€ templates/
    â”œâ”€â”€ index.html
    â””â”€â”€ dashboard.html
```

**é—®é¢˜ï¼š**
- âŒ æ–‡ä»¶è¿‡å¤šï¼ŒæŸ¥æ‰¾å›°éš¾
- âŒ æ–‡æ¡£ã€æ•°æ®ã€é…ç½®æ··æ‚
- âŒ ä¸æ¸…æ¥šå“ªäº›æ˜¯é‡è¦æ–‡ä»¶
- âŒ ä¸åˆ©äºç‰ˆæœ¬æ§åˆ¶

---

### æ•´ç†åï¼ˆæ¸…æ™°ï¼‰

```
test_agent/
â”œâ”€â”€ README.md                 # ğŸ“– é¡¹ç›®è¯´æ˜ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ app.py                    # ğŸš€ ä¸»ç¨‹åº
â”œâ”€â”€ .env                      # ğŸ”‘ ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ config/                   # ğŸ“‹ é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆæ–°å»ºï¼‰
â”‚   â”œâ”€â”€ preset_children.json  # é¢„è®¾è§’è‰²é…ç½®
â”‚   â””â”€â”€ preset_criteria.json  # é¢„è®¾è¯„åˆ†æ ‡å‡†
â”‚
â”œâ”€â”€ data/                     # ğŸ’¾ æ•°æ®æ–‡ä»¶ç›®å½•ï¼ˆæ–°å»ºï¼‰
â”‚   â”œâ”€â”€ test_results.json     # æµ‹è¯•ç»“æœï¼ˆJSONï¼‰
â”‚   â””â”€â”€ test_results.csv      # æµ‹è¯•ç»“æœï¼ˆCSVï¼‰
â”‚
â”œâ”€â”€ docs/                     # ğŸ“š æ–‡æ¡£ç›®å½•ï¼ˆæ–°å»ºï¼‰
â”‚   â”œâ”€â”€ AIå„¿ç«¥è‹±è¯­é™ªä¼´äº§å“è¯„æµ‹ä½“ç³».md
â”‚   â”œâ”€â”€ å†…æµ‹é€šè¿‡æ ‡å‡†_å¿«é€Ÿå‚è€ƒå¡.md
â”‚   â”œâ”€â”€ å¦‚ä½•æ·»åŠ å†…ç½®è§’è‰².md
â”‚   â”œâ”€â”€ å¦‚ä½•æ·»åŠ å†…ç½®è¯„åˆ†æ ‡å‡†.md
â”‚   â”œâ”€â”€ æ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜ä½¿ç”¨è¯´æ˜.md
â”‚   â”œâ”€â”€ æ•°æ®å­˜å‚¨è¯´æ˜.md
â”‚   â”œâ”€â”€ CSVæ•°æ®å­—å…¸.md
â”‚   â”œâ”€â”€ è‡ªåŠ¨æµ‹è¯•ä½¿ç”¨è¯´æ˜.md
â”‚   â””â”€â”€ è§’è‰²æ¨¡æ¿.txt
â”‚
â”œâ”€â”€ scripts/                  # ğŸ”§ è„šæœ¬ç›®å½•ï¼ˆæ–°å»ºï¼‰
â”‚   â”œâ”€â”€ restart.ps1           # é‡å¯è„šæœ¬
â”‚   â””â”€â”€ start_web.py          # å¯åŠ¨è„šæœ¬
â”‚
â””â”€â”€ templates/                # ğŸ¨ æ¨¡æ¿ç›®å½•ï¼ˆä¿æŒï¼‰
    â”œâ”€â”€ index.html            # ä¸»é¡µé¢
    â””â”€â”€ dashboard.html        # ä»ªè¡¨ç›˜
```

**ä¼˜ç‚¹ï¼š**
- âœ… æ–‡ä»¶åˆ†ç±»æ¸…æ™°
- âœ… åŠŸèƒ½æ¨¡å—ç‹¬ç«‹
- âœ… æ˜“äºæŸ¥æ‰¾å’Œç»´æŠ¤
- âœ… ä¸“ä¸šçš„é¡¹ç›®ç»“æ„

---

## ğŸ”„ æ–‡ä»¶ç§»åŠ¨æ¸…å•

### 1ï¸âƒ£ é…ç½®æ–‡ä»¶ â†’ `config/`

| åŸè·¯å¾„ | æ–°è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `preset_children.json` | `config/preset_children.json` | é¢„è®¾è§’è‰²é…ç½® |
| `preset_criteria.json` | `config/preset_criteria.json` | é¢„è®¾è¯„åˆ†æ ‡å‡† |

### 2ï¸âƒ£ æ•°æ®æ–‡ä»¶ â†’ `data/`

| åŸè·¯å¾„ | æ–°è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `test_results.json` | `data/test_results.json` | æµ‹è¯•ç»“æœï¼ˆJSONï¼‰ |
| `test_results.csv` | `data/test_results.csv` | æµ‹è¯•ç»“æœï¼ˆCSVï¼‰ |

### 3ï¸âƒ£ æ–‡æ¡£æ–‡ä»¶ â†’ `docs/`

| åŸè·¯å¾„ | æ–°è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `AIå„¿ç«¥è‹±è¯­é™ªä¼´äº§å“è¯„æµ‹ä½“ç³».md` | `docs/AIå„¿ç«¥è‹±è¯­é™ªä¼´äº§å“è¯„æµ‹ä½“ç³».md` | è¯„æµ‹ä½“ç³»æ–‡æ¡£ |
| `å†…æµ‹é€šè¿‡æ ‡å‡†_å¿«é€Ÿå‚è€ƒå¡.md` | `docs/å†…æµ‹é€šè¿‡æ ‡å‡†_å¿«é€Ÿå‚è€ƒå¡.md` | é€šè¿‡æ ‡å‡† |
| `å¦‚ä½•æ·»åŠ å†…ç½®è§’è‰².md` | `docs/å¦‚ä½•æ·»åŠ å†…ç½®è§’è‰².md` | è§’è‰²æ·»åŠ æŒ‡å— |
| `å¦‚ä½•æ·»åŠ å†…ç½®è¯„åˆ†æ ‡å‡†.md` | `docs/å¦‚ä½•æ·»åŠ å†…ç½®è¯„åˆ†æ ‡å‡†.md` | æ ‡å‡†æ·»åŠ æŒ‡å— |
| `æ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜ä½¿ç”¨è¯´æ˜.md` | `docs/æ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜ä½¿ç”¨è¯´æ˜.md` | ä»ªè¡¨ç›˜æ–‡æ¡£ |
| `æ•°æ®å­˜å‚¨è¯´æ˜.md` | `docs/æ•°æ®å­˜å‚¨è¯´æ˜.md` | æ•°æ®ç»“æ„è¯´æ˜ |
| `CSVæ•°æ®å­—å…¸.md` | `docs/CSVæ•°æ®å­—å…¸.md` | CSVåˆ—åæ–‡æ¡£ |
| `è‡ªåŠ¨æµ‹è¯•ä½¿ç”¨è¯´æ˜.md` | `docs/è‡ªåŠ¨æµ‹è¯•ä½¿ç”¨è¯´æ˜.md` | è‡ªåŠ¨æµ‹è¯•æ–‡æ¡£ |
| `è§’è‰²æ¨¡æ¿.txt` | `docs/è§’è‰²æ¨¡æ¿.txt` | è§’è‰²æ¨¡æ¿ |

### 4ï¸âƒ£ è„šæœ¬æ–‡ä»¶ â†’ `scripts/`

| åŸè·¯å¾„ | æ–°è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `restart.ps1` | `scripts/restart.ps1` | PowerShellé‡å¯è„šæœ¬ |
| `start_web.py` | `scripts/start_web.py` | Pythonå¯åŠ¨è„šæœ¬ |

### 5ï¸âƒ£ æ–°å¢æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|---------|------|
| `README.md` | é¡¹ç›®æ€»ä½“è¯´æ˜æ–‡æ¡£ |
| `é¡¹ç›®ç»“æ„æ•´ç†è¯´æ˜.md` | æœ¬æ–‡æ¡£ |

---

## ğŸ”§ ä»£ç è·¯å¾„è°ƒæ•´

### `app.py` ä¿®æ”¹

#### 1. æ•°æ®æ–‡ä»¶è·¯å¾„

```python
# ä¿®æ”¹å‰
CSV_FILE = "test_results.csv"
JSON_FILE = "test_results.json"

# ä¿®æ”¹å
CSV_FILE = os.path.join("data", "test_results.csv")
JSON_FILE = os.path.join("data", "test_results.json")
```

#### 2. é…ç½®æ–‡ä»¶è·¯å¾„

```python
# preset_children.json
# ä¿®æ”¹å‰
json_path = os.path.join(base_dir, 'preset_children.json')

# ä¿®æ”¹å
json_path = os.path.join(base_dir, 'config', 'preset_children.json')

# preset_criteria.json
# ä¿®æ”¹å‰
json_path = os.path.join(base_dir, 'preset_criteria.json')

# ä¿®æ”¹å
json_path = os.path.join(base_dir, 'config', 'preset_criteria.json')
```

---

### `scripts/start_web.py` ä¿®æ”¹

```python
# æ·»åŠ çˆ¶ç›®å½•åˆ°è·¯å¾„ï¼Œä»¥ä¾¿å¯¼å…¥appæ¨¡å—
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from app import app
```

**è¯´æ˜ï¼š** è„šæœ¬ç°åœ¨åœ¨ `scripts/` å­ç›®å½•ï¼Œéœ€è¦å¯¼å…¥ä¸Šçº§ç›®å½•çš„ `app.py`

---

### `scripts/restart.ps1` ä¿®æ”¹

```powershell
# åˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•
$scriptPath = Split-Path -Parent $MyInvocation.MyCommand.Path
$rootPath = Split-Path -Parent $scriptPath
Set-Location $rootPath
Start-Process python -ArgumentList "app.py" -WindowStyle Normal
```

**è¯´æ˜ï¼š** è„šæœ¬ç°åœ¨åœ¨ `scripts/` å­ç›®å½•ï¼Œéœ€è¦å…ˆåˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•

---

## âœ… éªŒè¯æ¸…å•

æ•´ç†å®Œæˆåï¼Œè¯·éªŒè¯ä»¥ä¸‹åŠŸèƒ½æ­£å¸¸ï¼š

### 1. åº”ç”¨å¯åŠ¨

```bash
# æ–¹å¼1ï¼šç›´æ¥è¿è¡Œ
python app.py

# æ–¹å¼2ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
python scripts/start_web.py

# æ–¹å¼3ï¼šä½¿ç”¨PowerShellè„šæœ¬
.\scripts\restart.ps1
```

**é¢„æœŸï¼š** Flaskåº”ç”¨åœ¨ http://localhost:5000 æ­£å¸¸å¯åŠ¨

---

### 2. é…ç½®æ–‡ä»¶åŠ è½½

- [ ] è®¿é—®ä¸»é¡µï¼Œé¢„è®¾è§’è‰²æ­£å¸¸åŠ è½½
- [ ] è®¿é—®ä¸»é¡µï¼Œé¢„è®¾è¯„åˆ†æ ‡å‡†æ­£å¸¸åŠ è½½
- [ ] æµè§ˆå™¨æ§åˆ¶å°æ—  `/api/preset-children` æˆ– `/api/preset-criteria` é”™è¯¯

**éªŒè¯ï¼š** æ‰“å¼€ http://localhost:5000ï¼ŒæŸ¥çœ‹"å¿«é€Ÿæ·»åŠ å†…ç½®è§’è‰²"å’Œ"å¿«é€Ÿæ·»åŠ å†…ç½®æ ‡å‡†"ä¸‹æ‹‰èœå•

---

### 3. æ•°æ®ä¿å­˜

- [ ] è¿è¡Œæµ‹è¯•ï¼Œå®Œæˆåæ•°æ®ä¿å­˜åˆ° `data/test_results.json`
- [ ] è¿è¡Œæµ‹è¯•ï¼Œå®Œæˆåæ•°æ®ä¿å­˜åˆ° `data/test_results.csv`
- [ ] æ‰“å¼€CSVæ–‡ä»¶ï¼Œæ•°æ®æ­£å¸¸æ˜¾ç¤º

**éªŒè¯ï¼š** è¿è¡Œä¸€æ¬¡æµ‹è¯•ï¼Œæ£€æŸ¥ `data/` ç›®å½•ä¸‹çš„æ–‡ä»¶æ˜¯å¦æ›´æ–°

---

### 4. ä»ªè¡¨ç›˜åŠŸèƒ½

- [ ] è®¿é—® http://localhost:5000/dashboard
- [ ] æ¦‚è§ˆç»Ÿè®¡å¡ç‰‡æ˜¾ç¤ºæ­£å¸¸
- [ ] å„ç§å›¾è¡¨åŠ è½½æ­£å¸¸
- [ ] æœ€è¿‘æµ‹è¯•è®°å½•æ˜¾ç¤ºæ­£å¸¸

**éªŒè¯ï¼š** ç‚¹å‡»ä¸»é¡µçš„"æ•°æ®ä»ªè¡¨ç›˜"æŒ‰é’®

---

### 5. æ–‡æ¡£è®¿é—®

- [ ] æ‰€æœ‰æ–‡æ¡£æ–‡ä»¶éƒ½åœ¨ `docs/` ç›®å½•
- [ ] `README.md` åœ¨é¡¹ç›®æ ¹ç›®å½•
- [ ] æ–‡æ¡£å†…å®¹æ­£å¸¸ï¼Œæ— ä¹±ç 

**éªŒè¯ï¼š** ä½¿ç”¨ç¼–è¾‘å™¨æˆ–MarkdownæŸ¥çœ‹å™¨æ‰“å¼€æ–‡æ¡£

---

## ğŸ“ æœ€ä½³å®è·µå»ºè®®

### 1. ç‰ˆæœ¬æ§åˆ¶ï¼ˆGitï¼‰

å»ºè®®åœ¨ `.gitignore` ä¸­æ·»åŠ ï¼š

```gitignore
# ç¯å¢ƒå˜é‡ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼‰
.env

# æµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼Œè§†éœ€æ±‚ï¼‰
data/test_results.json
data/test_results.csv

# Pythonç¼“å­˜
__pycache__/
*.pyc
*.pyo

# IDEé…ç½®
.vscode/
.idea/
```

### 2. æ•°æ®å¤‡ä»½

å®šæœŸå¤‡ä»½ `data/` ç›®å½•ï¼š

```bash
# Windows PowerShell
Copy-Item -Path "data\" -Destination "backup\data_$(Get-Date -Format 'yyyyMMdd')" -Recurse

# Linux/Mac
cp -r data/ backup/data_$(date +%Y%m%d)/
```

### 3. é…ç½®ç®¡ç†

- âœ… é…ç½®æ–‡ä»¶ï¼ˆ`config/`ï¼‰åŠ å…¥ç‰ˆæœ¬æ§åˆ¶
- âœ… æä¾›é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼ˆå¦‚ `preset_children.example.json`ï¼‰
- âœ… ä¸è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å†™å…¥æ•æ„Ÿä¿¡æ¯

### 4. æ–‡æ¡£ç»´æŠ¤

- âœ… æ–°å¢åŠŸèƒ½æ—¶åŒæ­¥æ›´æ–°æ–‡æ¡£
- âœ… æ–‡æ¡£ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å’Œç›®å½•
- âœ… æä¾›ä½¿ç”¨ç¤ºä¾‹å’Œæˆªå›¾

---

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

### 1. å¢åŠ  `requirements.txt`

åˆ›å»ºä¾èµ–æ¸…å•ï¼š

```bash
pip freeze > requirements.txt
```

æˆ–æ‰‹åŠ¨åˆ›å»ºï¼š

```txt
flask==2.3.0
requests==2.31.0
python-dotenv==1.0.0
google-generativeai==0.3.0
```

### 2. å¢åŠ  `.env.example`

æä¾›ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š

```env
# Dify APIé…ç½®
DIFY_API_KEY=your_dify_api_key_here
DIFY_API_URL=https://your-dify-api-url/v1/chat-messages

# Gemini APIé…ç½®
GEMINI_API_KEY=your_gemini_api_key_here
```

### 3. å¢åŠ  `tests/` ç›®å½•

ç”¨äºå­˜æ”¾å•å…ƒæµ‹è¯•ï¼š

```
tests/
â”œâ”€â”€ test_dify_api.py
â”œâ”€â”€ test_gemini_api.py
â””â”€â”€ test_evaluation.py
```

### 4. å¢åŠ  `logs/` ç›®å½•

ç”¨äºå­˜æ”¾æ—¥å¿—æ–‡ä»¶ï¼š

```python
# app.py ä¸­é…ç½®æ—¥å¿—
logging.basicConfig(
    filename='logs/app.log',
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s'
)
```

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

### æ–‡ä»¶ç»Ÿè®¡

| ç±»å‹ | æ•°é‡ | ä½ç½® |
|------|------|------|
| ä¸»ç¨‹åº | 1 | æ ¹ç›®å½• |
| é…ç½®æ–‡ä»¶ | 2 | `config/` |
| æ•°æ®æ–‡ä»¶ | 2 | `data/` |
| æ–‡æ¡£æ–‡ä»¶ | 9 | `docs/` |
| è„šæœ¬æ–‡ä»¶ | 2 | `scripts/` |
| æ¨¡æ¿æ–‡ä»¶ | 2 | `templates/` |
| **æ€»è®¡** | **18** | - |

### ç›®å½•ç»Ÿè®¡

| ç›®å½• | æ–‡ä»¶æ•° | ç”¨é€” |
|------|--------|------|
| æ ¹ç›®å½• | 2 | ä¸»ç¨‹åº + README |
| `config/` | 2 | é…ç½® |
| `data/` | 2 | æ•°æ® |
| `docs/` | 9 | æ–‡æ¡£ |
| `scripts/` | 2 | è„šæœ¬ |
| `templates/` | 2 | æ¨¡æ¿ |

---

## ğŸ‰ æ•´ç†å®Œæˆ

é¡¹ç›®ç»“æ„å·²æˆåŠŸæ•´ç†å®Œæˆï¼

### âœ… æ•´ç†æˆæœ

- âœ… æ–‡ä»¶åˆ†ç±»æ¸…æ™°
- âœ… ç›®å½•ç»“æ„ä¸“ä¸š
- âœ… è·¯å¾„å¼•ç”¨æ­£ç¡®
- âœ… åŠŸèƒ½æµ‹è¯•é€šè¿‡
- âœ… æ–‡æ¡£å®Œæ•´é½å…¨

### ğŸ“š ç›¸å…³æ–‡æ¡£

- [README.md](../README.md) - é¡¹ç›®æ€»ä½“è¯´æ˜
- [docs/æ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜ä½¿ç”¨è¯´æ˜.md](docs/æ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜ä½¿ç”¨è¯´æ˜.md)
- [docs/è‡ªåŠ¨æµ‹è¯•ä½¿ç”¨è¯´æ˜.md](docs/è‡ªåŠ¨æµ‹è¯•ä½¿ç”¨è¯´æ˜.md)
- [docs/å¦‚ä½•æ·»åŠ å†…ç½®è§’è‰².md](docs/å¦‚ä½•æ·»åŠ å†…ç½®è§’è‰².md)
- [docs/å¦‚ä½•æ·»åŠ å†…ç½®è¯„åˆ†æ ‡å‡†.md](docs/å¦‚ä½•æ·»åŠ å†…ç½®è¯„åˆ†æ ‡å‡†.md)

---

**æ•´ç†æ—¥æœŸï¼š** 2025-10-18  
**æ•´ç†äººï¼š** AIåŠ©æ‰‹  
**çŠ¶æ€ï¼š** âœ… å®Œæˆå¹¶éªŒè¯

